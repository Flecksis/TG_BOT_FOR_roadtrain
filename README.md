# TG_BOT_FOR_roadtrain
Телеграм бот для авто поезда 'Россия - моя история'
# Telegram Quiz Bot

Этот проект представляет собой интерактивного Telegram-бота, который предлагает пользователям:
- Проходить викторины с отслеживанием прогресса и анализом ошибок.
- Оставлять отзывы об интерактивной выставке.
- Использовать интерактивную карту города.

Также предусмотрен админ-панель для управления контентом и анализа статистики.

---

## Основные функции

### 1. Викторина
- Бот задаёт вопросы с несколькими вариантами ответов.
- Отслеживает правильные и ошибочные ответы пользователя.
- Отображает финальные результаты и предоставляет анализ ошибок.

### 2. Отзывы
- Пользователи могут оставить отзыв, выбрав наиболее понравившийся "вагон" выставки.
- Возможность оставить дополнительный комментарий.

### 3. Интерактивная карта
- Интеграция с веб-приложением карты через Telegram WebApp.

### 4. Админ-панель
- **Добавление и удаление вопросов** викторины.
- **Анализ посещаемости** пользователей.
- Просмотр оставленных отзывов.

---

## Установка и настройка

1. **Клонирование репозитория:**
   ```bash
   git clone <URL_вашего_репозитория>
   cd <название_проекта>
   ```

2. **Установка зависимостей:**
   ```bash
   pip install -U g4f[all]
   pip install aiogram
   ```

3. **Создание и настройка файлов JSON:**
   Создайте два файла `quiz_data.json` и `users_data.json` в корне проекта:
   - **quiz_data.json**: хранит вопросы викторины.
     ```json
     [
         {
             "question": "Ваш вопрос?",
             "options": ["Вариант1", "Вариант2", "Вариант3", "Вариант4"],
             "correct": "Правильный вариант"
         }
     ]
     ```
   - **users_data.json**: хранит данные пользователей (автоматически обновляется).
     ```json
     {}
     ```

4. **Настройка переменных:**
   В коде замените `API_TOKEN` на токен вашего бота, полученный через @BotFather:
   ```python
   API_TOKEN = "<Ваш_токен>"
   ```

5. **Запуск бота:**
   ```bash
   python bot.py
   ```

---

## Структура проекта

- **bot.py**: основной файл проекта.
- **quiz_data.json**: данные вопросов викторины.
- **users_data.json**: данные пользователей (автоматически обновляется).

---

## Основные команды

### Команды для пользователей
- **/start**: запуск бота, отображение приветствия и меню.
- **Вопрос**: задать вопрос и получить ответ.
- **Начать викторину**: прохождение викторины.
- **Оставить отзыв**: оставить отзыв об опыте.

### Команды для администраторов
Для входа в админ-панель:
1. Написать сообщение "admin".
2. Ввести пароль: `admin`.

После входа доступны:
- **Добавить вопрос**: добавить новый вопрос в викторину.
- **Удалить вопрос**: удалить существующий вопрос.
- **Анализ посещаемости**: отображение статистики посещений.
- **Просмотр отзывов**: просмотр отзывов пользователей.

---

## Используемые технологии

- **Python 3.10+**: основной язык разработки.
- **Aiogram**: удобный фреймворк для работы с Telegram Bot API.
- **g4f**: библиотека для интеграции с GPT.
- **JSON**: хранение данных пользователей и вопросов.

---

## Дополнительная информация

- **Интерактивная карта:**
  В меню пользователя доступна кнопка "Интерактивная карта города", которая открывает карту через WebApp:
  ```python
  WebAppInfo(url="https://flecksis.github.io/interect_kard.io/")
  ```

- **Стикеры:**
  Если пользователь пишет произвольные сообщения, бот отправляет предупреждающий стикер.

---

## Возможные улучшения
- Расширение функционала викторины (таймер, уровни сложности).
- Улучшение аналитики для администраторов.
- Добавление мультиязычности.

